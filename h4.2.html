<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H4/2 - Rendszerterv</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #eef2ff; padding: 20px; color: #333; margin: 0; line-height: 1.6; }
        .card { background: white; max-width: 900px; margin: 0 auto; padding: 40px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border-top: 6px solid #4f46e5; }
        h1 { color: #312e81; text-align: center; margin-bottom: 20px; }
        h2 { color: #4338ca; background: #e0e7ff; padding: 10px 15px; border-radius: 6px; margin-top: 40px; border-left: 5px solid #4f46e5; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        th { background: #312e81; color: white; padding: 12px; text-align: left; }
        td { padding: 12px; border-bottom: 1px solid #e2e8f0; }
        tr:nth-child(odd) { background: #eef2ff; }
    </style>
</head>
<body>

<div class="card">
    <h1>2. [cite_start]Rendszertervezés (Architektúra) [cite: 150-167]</h1>
    <p>A rendszer stabilitása és fenntarthatósága érdekében a fejlesztés során a szigorú <strong>rétegelt architektúra (Layered Architecture)</strong> elveit követjük, konkrétan az <strong>MVC (Model-View-Controller)</strong> mintát. Ez biztosítja, hogy a felhasználói felület változtatása (pl. új gombok) ne tegye tönkre az üzleti logikát, és a kód különálló egységekben (modulokban) legyen kezelhető.</p>
    
    <table>
        <thead>
            <tr>
                <th>Réteg</th>
                <th>Komponensek (Python Modulok)</th>
                <th>Felelősségi kör</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>View (Megjelenítés)</strong></td>
                <td><code>MainFrame.py</code>, <code>Dialogs.py</code></td>
                <td>A grafikus felület (GUI) kirajzolása Tkinter segítségével. Kizárólag megjelenítési logikát tartalmaz (pl. ablakméret, színek), üzleti döntéseket nem hoz.</td>
            </tr>
            <tr>
                <td><strong>Controller (Vezérlés)</strong></td>
                <td><code>BookingController.py</code>, <code>AuthController.py</code></td>
                <td>A rendszer "agya". Fogadja a View eseményeit (kattintás), validálja a bemenetet, meghívja a Modelt a számításokra, majd frissíti a Nézetet az eredménnyel.</td>
            </tr>
            <tr>
                <td><strong>Model (Adat és Logika)</strong></td>
                <td><code>SeatEntity.py</code>, <code>PricingService.py</code></td>
                <td>Az adatok szerkezetét (osztályok) és a tiszta üzleti szabályokat (pl. "Gyerekjegy = 50% ár") tartalmazza. Teljesen független a GUI-tól.</td>
            </tr>
            <tr>
                <td><strong>Infrastructure (Perzisztencia)</strong></td>
                <td><code>DatabaseManager.py</code> (SQLite)</td>
                <td>Az adatok fizikai tárolásáért és betöltéséért felelős réteg (DAO minta), amely leválasztja az SQL logikát a program többi részéről.</td>
            </tr>
        </tbody>
    </table>
</div>

</body>
</html>
